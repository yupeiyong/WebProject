/*!
 * bootstrap-fileinput v4.3.7
 * http://plugins.krajee.com/file-input
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2017, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=n(require("jquery")):n(window.jQuery)})(function(n){"use strict";n.fn.fileinputLocales={};n.fn.fileinputThemes={};var t,i;t={NAMESPACE:".fileinput",MODAL_ID:"kvFileinputModal",FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",STYLE_SETTING:'style="width:{width};height:{height};"',OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}<\/span>\n<\/div>',objUrl:window.URL||window.webkitURL,compare:function(n,t,i){return n!==undefined&&(i?n===t:n.match(t))},handler:function(n,i,r,u){var f=u?i:i.split(" ").join(t.NAMESPACE+" ")+t.NAMESPACE;if(n.length)n.off(f).on(f,r)},isIE:function(n){if(navigator.appName!=="Microsoft Internet Explorer")return!1;if(n===10)return new RegExp("msie\\s"+n,"i").test(navigator.userAgent);var t=document.createElement("div"),i;return t.innerHTML="<!--[if IE "+n+"]> <i><\/i> <![endif]-->",i=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),i},isEmpty:function(t,i){return t===undefined||t===null||t.length===0||i&&n.trim(t)===""},isArray:function(n){return Array.isArray(n)||Object.prototype.toString.call(n)==="[object Array]"},ifSet:function(n,t,i){return i=i||"",t&&typeof t=="object"&&n in t?t[n]:i},getNum:function(n,t){return(t=t||0,typeof n=="number")?n:(typeof n=="string"&&(n=parseFloat(n)),isNaN(n)?t:n)},hasFileAPISupport:function(){return!!(window.File&&window.FileReader)},hasDragDropSupport:function(){var n=document.createElement("div");return!t.isIE(9)&&(n.draggable!==undefined||n.ondragstart!==undefined&&n.ondrop!==undefined)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},addCss:function(n,t){n.removeClass(t).addClass(t)},getElement:function(i,r,u){return t.isEmpty(i)||t.isEmpty(i[r])?u:n(i[r])},uniqId:function(){return Math.round((new Date).getTime()+Math.random()*100)},htmlEncode:function(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,i){var r=t;return i?(n.each(i,function(n,t){typeof t=="function"&&(t=t());r=r.split(n).join(t)}),r):r},cleanMemory:function(n){var i=n.is("img")?n.attr("src"):n.find("source").attr("src");t.objUrl.revokeObjectURL(i)},findFileName:function(n){var t=n.lastIndexOf("/");return t===-1&&(t=n.lastIndexOf("\\")),n.split(n.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(n){var i=document,r=i.documentElement;r&&n&&!t.checkFullScreen()?r.requestFullscreen?r.requestFullscreen():r.msRequestFullscreen?r.msRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()},moveArray:function(n,t,i){if(i>=n.length)for(var r=i-n.length;r--+1;)n.push(undefined);return n.splice(i,0,n.splice(t,1)[0]),n},cleanZoomCache:function(n){var t=n.closest(".kv-zoom-cache-theme");t.length||(t=n.closest(".kv-zoom-cache"));t.remove()}};i=function(i,r){var u=this;(u.$element=n(i),u._validate())&&(u.isPreviewable=t.hasFileAPISupport(),u.isIE9=t.isIE(9),u.isIE10=t.isIE(10),u.isPreviewable||u.isIE9?(u._init(r),u._listen()):u.$element.removeClass("file-loading"))};i.prototype={constructor:i,_init:function(i){var r=this,f=r.$element,u;r.options=i;n.each(i,function(n,i){switch(n){case"minFileCount":case"maxFileCount":case"maxFileSize":r[n]=t.getNum(i);break;default:r[n]=i}});r._initTemplateDefaults();r.fileInputCleared=!1;r.fileBatchCompleted=!0;r.isPreviewable||(r.showPreview=!1);r.uploadFileAttr=t.isEmpty(f.attr("name"))?"file_data":f.attr("name");r.reader=null;r.formdata={};r.clearStack();r.uploadCount=0;r.uploadStatus={};r.uploadLog=[];r.uploadAsyncCount=0;r.loadedImages=[];r.totalImagesCount=0;r.ajaxRequests=[];r.isError=!1;r.ajaxAborted=!1;r.cancelling=!1;u=r._getLayoutTemplate("progress");r.progressTemplate=u.replace("{class}",r.progressClass);r.progressCompleteTemplate=u.replace("{class}",r.progressCompleteClass);r.progressErrorTemplate=u.replace("{class}",r.progressErrorClass);r.dropZoneEnabled=t.hasDragDropSupport()&&r.dropZoneEnabled;r.isDisabled=r.$element.attr("disabled")||r.$element.attr("readonly");r.isUploadable=t.hasFileUploadSupport()&&!t.isEmpty(r.uploadUrl);r.isClickable=r.browseOnZoneClick&&r.showPreview&&(r.isUploadable&&r.dropZoneEnabled||!t.isEmpty(r.defaultPreviewContent));r.slug=typeof i.slugCallback=="function"?i.slugCallback:r._slugDefault;r.mainTemplate=r.showCaption?r._getLayoutTemplate("main1"):r._getLayoutTemplate("main2");r.captionTemplate=r._getLayoutTemplate("caption");r.previewGenericTemplate=r._getPreviewTemplate("generic");r.resizeImage&&(r.maxImageWidth||r.maxImageHeight)&&(r.imageCanvas=document.createElement("canvas"),r.imageCanvasContext=r.imageCanvas.getContext("2d"));t.isEmpty(r.$element.attr("id"))&&r.$element.attr("id",t.uniqId());r.$container===undefined?r.$container=r._createContainer():r._refreshContainer();r.$dropZone=r.$container.find(".file-drop-zone");r.$progress=r.$container.find(".kv-upload-progress");r.$btnUpload=r.$container.find(".fileinput-upload");r.$captionContainer=t.getElement(i,"elCaptionContainer",r.$container.find(".file-caption"));r.$caption=t.getElement(i,"elCaptionText",r.$container.find(".file-caption-name"));r.$previewContainer=t.getElement(i,"elPreviewContainer",r.$container.find(".file-preview"));r.$preview=t.getElement(i,"elPreviewImage",r.$container.find(".file-preview-thumbnails"));r.$previewStatus=t.getElement(i,"elPreviewStatus",r.$container.find(".file-preview-status"));r.$errorContainer=t.getElement(i,"elErrorContainer",r.$previewContainer.find(".kv-fileinput-error"));t.isEmpty(r.msgErrorClass)||t.addCss(r.$errorContainer,r.msgErrorClass);r.$errorContainer.hide();r.previewInitId="preview-"+t.uniqId();r._initPreviewCache();r._initPreview(!0);r._initPreviewActions();r._setFileDropZoneTitle();r.$element.removeClass("file-loading");r.$element.attr("disabled")&&r.disable();r._initZoom()},_initTemplateDefaults:function(){var i=this,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,r,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt;u='{preview}\n<div class="kv-upload-progress hide"><\/div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   <\/div>\n<\/div>';f='{preview}\n<div class="kv-upload-progress hide"><\/div>\n{remove}\n{cancel}\n{upload}\n{browse}\n';e='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    <\/div>\n    <div class="clearfix"><\/div>    <div class="file-preview-status text-center text-success"><\/div>\n    <div class="kv-fileinput-error"><\/div>\n    <\/div>\n<\/div>';s='<div class="close fileinput-remove">&times;<\/div>\n';o='<i class="glyphicon glyphicon-file kv-caption-icon"><\/i>';h='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"><\/div>\n<\/div>\n';c='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}<\/button>';l='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}<\/a>';a='<div tabindex="500" class="{css}" {status}>{icon} {label}<\/div>';v='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"><\/div>';y='<div class="modal-dialog modal-lg" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{toggleheader}{fullscreen}{borderless}{close}<\/div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"><\/span><\/small><\/h3>\n    <\/div>\n    <div class="modal-body">\n      <div class="floating-buttons"><\/div>\n      <div class="kv-zoom-body file-zoom-content"><\/div>\n{prev} {next}\n    <\/div>\n  <\/div>\n<\/div>\n';p='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     <\/div>\n<\/div>';w=" <samp>({sizeText})<\/samp>";b='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}<br>{size}<\/div>\n    {progress} {actions}\n<\/div>';k='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}<\/div>\n{drag}\n<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}    <\/div>\n    <div class="clearfix"><\/div>\n<\/div>';d='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}<\/button>\n';g='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}<\/button>';nt='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}<\/button>';tt='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}<\/span>';r='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"';it=r+'><div class="kv-file-content">\n';rt=r+' title="{caption}" '+t.STYLE_SETTING+'><div class="kv-file-content">\n';ut="<\/div>{footer}\n<\/div>\n";ft="{content}\n";et='<div class="kv-preview-data file-preview-html" title="{caption}" '+t.STYLE_SETTING+">{data}<\/div>\n";ot='<img src="{data}" class="kv-preview-data file-preview-image" title="{caption}" alt="{caption}" '+t.STYLE_SETTING+">\n";st='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly '+t.STYLE_SETTING+">{data}<\/textarea>\n";ht='<video class="kv-preview-data" width="{width}" height="{height}" controls>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n<\/video>\n";ct='<audio class="kv-preview-data" controls>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n<\/audio>\n";lt='<object class="kv-preview-data file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n<\/object>\n";at='<object class="kv-preview-data file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n<\/object>\n";vt='<embed class="kv-preview-data" src="{data}" width="{width}" height="{height}" type="application/pdf">\n';yt='<div class="kv-preview-data file-preview-other-frame">\n'+t.DEFAULT_PREVIEW+"\n<\/div>\n";pt='<div class="kv-zoom-cache" style="display:none">{zoomContent}<\/div>';i.defaults={layoutTemplates:{main1:u,main2:f,preview:e,close:s,fileIcon:o,caption:h,modalMain:v,modal:y,progress:p,size:w,footer:b,actions:k,actionDelete:d,actionUpload:g,actionZoom:nt,actionDrag:tt,btnDefault:c,btnLink:l,btnBrowse:a,zoomCache:pt},previewMarkupTags:{tagBefore1:it,tagBefore2:rt,tagAfter:ut},previewContentTemplates:{generic:ft,html:et,image:ot,text:st,video:ht,audio:ct,flash:lt,object:at,pdf:vt,other:yt},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},pdf:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"100%","min-height":"480px"},text:{width:"100%",height:"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","min-height":"480px"},pdf:{width:"100%",height:"100%","min-height":"480px"},other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(n,i){return t.compare(n,"image.*")||t.compare(i,/\.(gif|png|jpe?g)$/i)},html:function(n,i){return t.compare(n,"text/html")||t.compare(i,/\.(htm|html)$/i)},text:function(n,i){return t.compare(n,"text.*")||t.compare(i,/\.(xml|javascript)$/i)||t.compare(i,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(n,i){return t.compare(n,"video.*")&&(t.compare(n,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(i,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(n,i){return t.compare(n,"audio.*")&&(t.compare(i,/(ogg|mp3|mp?g|wav)$/i)||t.compare(i,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(n,i){return t.compare(n,"application/x-shockwave-flash",!0)||t.compare(i,/\.(swf)$/i)},pdf:function(n,i){return t.compare(n,"application/pdf",!0)||t.compare(i,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash text-danger"><\/i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"><\/i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"><\/i>',zoomClass:"btn btn-xs btn-default",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-menu-hamburger"><\/i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"><\/i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"><\/i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"><\/i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"><\/i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}};n.each(i.defaults,function(t,r){if(t==="allowedPreviewTypes"){i.allowedPreviewTypes===undefined&&(i.allowedPreviewTypes=r);return}i[t]=n.extend(!0,r,i[t])});i._initPreviewTemplates()},_initPreviewTemplates:function(){var i=this,f=i.defaults,r=i.previewMarkupTags,u,e=r.tagAfter;n.each(f.previewContentTemplates,function(n,f){t.isEmpty(i.previewTemplates[n])&&(u=r.tagBefore2,(n==="generic"||n==="image"||n==="html"||n==="text")&&(u=r.tagBefore1),i.previewTemplates[n]=u+f+e)})},_initPreviewCache:function(){var i=this;i.previewCache={data:{},init:function(){var n=i.initialPreview;n.length>0&&!t.isArray(n)&&(n=n.split(i.initialPreviewDelimiter));i.previewCache.data={content:n,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags}},fetch:function(){return i.previewCache.data.content.filter(function(n){return n!==null})},count:function(n){return!!i.previewCache.data&&!!i.previewCache.data.content?n?i.previewCache.data.content.length:i.previewCache.fetch().length:0},get:function(r,u){var c="init_"+r,e=i.previewCache.data,f=e.config[r],l=e.content[r],w=i.previewInitId+"-"+c,o,s,h,a,v,y,p,k=t.ifSet("previewAsData",f,i.initialPreviewAsData),b=function(n,r,u,f,e,o,s,h,c){return h=" file-preview-initial "+t.SORT_CSS+(h?" "+h:""),i._generatePreviewTemplate(n,r,u,f,e,!1,null,h,o,s,c)};return l?(u=u===undefined?!0:u,h=t.ifSet("type",f,i.initialPreviewFileType||"generic"),v=t.ifSet("filename",f,t.ifSet("caption",f)),y=t.ifSet("filetype",f,h),a=i.previewCache.footer(r,u,f&&f.size||null),p=t.ifSet("frameClass",f),o=k?b(h,l,v,y,w,a,c,p):b("generic",l,v,y,w,a,c,p,h).replace(/\{content}/g,e.content[r]),e.tags.length&&e.tags[r]&&(o=t.replaceTags(o,e.tags[r])),t.isEmpty(f)||t.isEmpty(f.frameAttr)||(s=n(document.createElement("div")).html(o),s.find(".file-preview-initial").attr(f.frameAttr),o=s.html(),s.remove()),o):""},add:function(n,r,u,f){var e=i.previewCache.data,o;return t.isArray(n)||(n=n.split(i.initialPreviewDelimiter)),f?(o=e.content.push(n)-1,e.config[o]=r,e.tags[o]=u):(o=n.length-1,e.content=n,e.config=r,e.tags=u),i.previewCache.data=e,o},set:function(n,r,u,f){var o=i.previewCache.data,e,s;if(n&&n.length&&(t.isArray(n)||(n=n.split(i.initialPreviewDelimiter)),s=n.filter(function(n){return n!==null}),s.length)){if(o.content===undefined&&(o.content=[]),o.config===undefined&&(o.config=[]),o.tags===undefined&&(o.tags=[]),f){for(e=0;e<n.length;e++)n[e]&&o.content.push(n[e]);for(e=0;e<r.length;e++)r[e]&&o.config.push(r[e]);for(e=0;e<u.length;e++)u[e]&&o.tags.push(u[e])}else o.content=n,o.config=r,o.tags=u;i.previewCache.data=o}},unset:function(n){var t=i.previewCache.count();if(t){if(t===1){i.previewCache.data.content=[];i.previewCache.data.config=[];i.previewCache.data.tags=[];i.initialPreview=[];i.initialPreviewConfig=[];i.initialPreviewThumbTags=[];return}i.previewCache.data.content[n]=null;i.previewCache.data.config[n]=null;i.previewCache.data.tags[n]=null}},out:function(){var t="",r,u=i.previewCache.count(!0),n;if(u===0)return{content:"",caption:""};for(n=0;n<u;n++)t+=i.previewCache.get(n);return r=i._getMsgSelected(i.previewCache.count()),{content:t,caption:r}},footer:function(n,r,u){var e=i.previewCache.data;if(!e||!e.config||e.config.length===0||t.isEmpty(e.config[n]))return"";r=r===undefined?!0:r;var f=e.config[n],c=t.ifSet("caption",f),o="",l=t.ifSet("width",f,"auto"),s=t.ifSet("url",f,!1),a=t.ifSet("key",f,null),h=i.fileActionSettings,v=t.ifSet("showDelete",f,!0),y=t.ifSet("showZoom",f,h.showZoom),p=t.ifSet("showDrag",f,h.showDrag),w=s===!1&&r;return i.initialPreviewShowDelete&&(o=i._renderFileActions(!1,v,y,p,w,s,a,!0)),i._getLayoutTemplate("footer").replace(/\{progress}/g,i._renderThumbProgress()).replace(/\{actions}/g,o).replace(/\{caption}/g,c).replace(/\{size}/g,i._getSize(u)).replace(/\{width}/g,l).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}};i.previewCache.init()},_log:function(n){var i=this,t=i.$element.attr("id");t&&(n='"'+t+'": '+n);typeof window.console.log!="undefined"?window.console.log(n):window.alert(n)},_validate:function(){var n=this,t=n.$element.attr("type")==="file";return t||n._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),t},_errorsExist:function(){var i=this,t;return i.$errorContainer.find("li").length?!0:(t=n(document.createElement("div")).html(i.$errorContainer.html()),t.find("span.kv-error-close").remove(),t.find("ul").remove(),n.trim(t.text()).length?!0:!1)},_errorHandler:function(n,t){var i=this,r=n.target.error;r.code===r.NOT_FOUND_ERR?i._showError(i.msgFileNotFound.replace("{name}",t)):r.code===r.SECURITY_ERR?i._showError(i.msgFileSecured.replace("{name}",t)):r.code===r.NOT_READABLE_ERR?i._showError(i.msgFileNotReadable.replace("{name}",t)):r.code===r.ABORT_ERR?i._showError(i.msgFilePreviewAborted.replace("{name}",t)):i._showError(i.msgFilePreviewError.replace("{name}",t))},_addError:function(n){var r=this,i=r.$errorContainer;n&&i.length&&(i.html(r.errorCloseButton+n),t.handler(i.find(".kv-error-close"),"click",function(){i.fadeOut("slow")}))},_resetErrors:function(n){var t=this,i=t.$errorContainer;t.isError=!1;t.$container.removeClass("has-error");i.html("");n?i.fadeOut("slow"):i.hide()},_showFolderError:function(n){var i=this,u=i.$errorContainer,r;n&&(r=i.msgFoldersNotAllowed.replace(/\{n}/g,n),i._addError(r),t.addCss(i.$container,"has-error"),u.fadeIn(800),i._raise("filefoldererror",[n,r]))},_showUploadError:function(n,i,r){var u=this,f=u.$errorContainer,o=r||"fileuploaderror",e=i&&i.id?'<li data-file-id="'+i.id+'">'+n+"<\/li>":"<li>"+n+"<\/li>";return f.find("ul").length===0?u._addError("<ul>"+e+"<\/ul>"):f.find("ul").append(e),f.fadeIn(800),u._raise(o,[i,n]),u.$container.removeClass("file-input-new"),t.addCss(u.$container,"has-error"),!0},_showError:function(n,i,r){var u=this,f=u.$errorContainer,e=r||"fileerror";return i=i||{},i.reader=u.reader,u._addError(n),f.fadeIn(800),u._raise(e,[i,n]),u.isUploadable||u._clearFileInput(),u.$container.removeClass("file-input-new"),t.addCss(u.$container,"has-error"),u.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(n){var i=this,u=i.minFileCount>1?i.filePlural:i.fileSingle,r=i.msgFilesTooLess.replace("{n}",i.minFileCount).replace("{files}",u),f=i.$errorContainer;i._addError(r);i.isError=!0;i._updateFileDetails(0);f.fadeIn(800);i._raise("fileerror",[n,r]);i._clearFileInput();t.addCss(i.$container,"has-error")},_parseError:function(t,i,r,u){var o=this,f=n.trim(r+""),s=f.slice(-1)==="."?"":".",e=i.responseJSON!==undefined&&i.responseJSON.error!==undefined?i.responseJSON.error:i.responseText;return o.cancelling&&o.msgUploadAborted&&(f=o.msgUploadAborted),o.showAjaxErrorDetails&&e?(e=n.trim(e.replace(/\n\s*\n/g,"\n")),e=e.length>0?"<pre>"+e+"<\/pre>":"",f+=s+e):f+=s,f===s&&(f=o.msgAjaxError.replace("{operation}",t)),o.cancelling=!1,u?"<b>"+u+": <\/b>"+f:f},_parseFileType:function(n){for(var f=this,e,r,u,o=f.allowedPreviewTypes,i=0;i<o.length;i++)if(u=o[i],e=f.fileTypeSettings[u],r=e(n.type,n.name)?u:"",!t.isEmpty(r))return r;return"other"},_getPreviewIcon:function(t){var i=this,r,u=null;return t&&t.indexOf(".")>-1&&(r=t.split(".").pop(),i.previewFileIconSettings&&i.previewFileIconSettings[r]&&(u=i.previewFileIconSettings[r]),i.previewFileExtSettings&&n.each(i.previewFileExtSettings,function(n,t){if(i.previewFileIconSettings[n]&&t(r)){u=i.previewFileIconSettings[n];return}})),u},_parseFilePreviewIcon:function(n,t){var i=this,r=i._getPreviewIcon(t)||i.previewFileIcon;return n.indexOf("{previewFileIcon}")>-1&&(n=n.replace(/\{previewFileIconClass}/g,i.previewFileIconClass).replace(/\{previewFileIcon}/g,r)),n},_raise:function(t,i){var u=this,r=n.Event(t);if(i!==undefined?u.$element.trigger(r,i):u.$element.trigger(r),r.isDefaultPrevented())return!1;if(!r.result)return r.result;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:u.ajaxAborted=r.result}return!0},_listenFullScreen:function(n){var u=this,t=u.$modal,r,i;t&&t.length&&(r=t&&t.find(".btn-fullscreen"),i=t&&t.find(".btn-borderless"),r.length&&i.length)&&(r.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),n?r.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),t.hasClass("file-zoom-fullscreen")?u._maximizeZoomDialog():n?u._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false"))},_listen:function(){var i=this,r=i.$element,u=r.closest("form"),f=i.$container;t.handler(r,"change",n.proxy(i._change,i));i.showBrowse&&t.handler(i.$btnFile,"click",n.proxy(i._browse,i));t.handler(u,"reset",n.proxy(i.reset,i));t.handler(f.find(".fileinput-remove:not([disabled])"),"click",n.proxy(i.clear,i));t.handler(f.find(".fileinput-cancel"),"click",n.proxy(i.cancel,i));i._initDragDrop();i.isUploadable||t.handler(u,"submit",n.proxy(i._submitForm,i));t.handler(i.$container.find(".fileinput-upload"),"click",n.proxy(i._uploadClick,i));t.handler(n(window),"resize",function(){i._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)});t.handler(n(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){i._listenFullScreen(t.checkFullScreen())});i._initClickable()},_initClickable:function(){var i=this,r;i.isClickable&&(r=i.isUploadable?i.$dropZone:i.$preview.find(".file-default-preview"),t.addCss(r,"clickable"),r.attr("tabindex",-1),t.handler(r,"click",function(t){var u=n(t.target);(!u.parents(".file-preview-thumbnails").length||u.parents(".file-default-preview").length)&&(i.$element.trigger("click"),r.blur())}))},_initDragDrop:function(){var i=this,r=i.$dropZone;i.isUploadable&&i.dropZoneEnabled&&i.showPreview&&(t.handler(r,"dragenter dragover",n.proxy(i._zoneDragEnter,i)),t.handler(r,"dragleave",n.proxy(i._zoneDragLeave,i)),t.handler(r,"drop",n.proxy(i._zoneDrop,i)),t.handler(n(document),"dragenter dragover drop",i._zoneDragDropInit))},_zoneDragDropInit:function(n){n.stopPropagation();n.preventDefault()},_zoneDragEnter:function(i){var r=this,u=n.inArray("Files",i.originalEvent.dataTransfer.types)>-1;if(r._zoneDragDropInit(i),r.isDisabled||!u){i.originalEvent.dataTransfer.effectAllowed="none";i.originalEvent.dataTransfer.dropEffect="none";return}t.addCss(r.$dropZone,"file-highlighted")},_zoneDragLeave:function(n){var t=this;(t._zoneDragDropInit(n),t.isDisabled)||t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(n){var i=this;(n.preventDefault(),i.isDisabled||t.isEmpty(n.originalEvent.dataTransfer.files))||(i._change(n,"dragdrop"),i.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(n){var r=this,i=r.$container.find(".fileinput-upload"),u,f=!i.hasClass("disabled")&&t.isEmpty(i.attr("disabled"));if(!n||!n.isDefaultPrevented()){if(!r.isUploadable){f&&i.attr("type")!=="submit"&&(u=i.closest("form"),u.length&&u.trigger("submit"),n.preventDefault());return}n.preventDefault();f&&r.upload()}},_submitForm:function(){var n=this,i=n.$element,t=i.get(0).files;return t&&n.minFileCount>0&&n._getFileCount(t.length)<n.minFileCount?(n._noFilesError({}),!1):!n._abort({})},_clearPreview:function(){var i=this,r=i.$preview,u=i.showUploadedThumbs?r.find(t.FRAMES+":not(.file-preview-success)"):r.find(t.FRAMES);u.each(function(){var i=n(this);i.remove();t.cleanZoomCache(r.find("#zoom-"+i.attr("id")))});i.$preview.find(t.FRAMES).length&&i.showPreview||i._resetUpload();i._validateDefaultPreview()},_initSortable:function(){var i=this,r=i.$preview,u,f="."+t.SORT_CSS;window.KvSortable&&r.find(f).length!==0&&(u={handle:".drag-handle-init",dataIdAttr:"data-preview-id",draggable:f,onSort:function(r){var f=r.oldIndex,e=r.newIndex,o,s,u;for(i.initialPreview=t.moveArray(i.initialPreview,f,e),i.initialPreviewConfig=t.moveArray(i.initialPreviewConfig,f,e),i.previewCache.init(),u=0;u<i.initialPreviewConfig.length;u++)i.initialPreviewConfig[u]!==null&&(o=i.initialPreviewConfig[u].key,s=n(".kv-file-remove[data-key='"+o+"']").closest(t.FRAMES),s.attr("data-fileindex","init_"+u).data("fileindex","init_"+u));i._raise("filesorted",{previewId:n(r.item).attr("id"),oldIndex:f,newIndex:e,stack:i.initialPreviewConfig})}},r.data("kvsortable")&&r.kvsortable("destroy"),n.extend(!0,u,i.fileActionSettings.dragSettings),r.kvsortable(u))},_initPreview:function(n){var i=this,u=i.initialCaption||"",r;if(!i.previewCache.count()){i._clearPreview();n?i._setCaption(u):i._initCaption();return}r=i.previewCache.out();u=n&&i.initialCaption?i.initialCaption:r.caption;i.$preview.html(r.content);i._setInitThumbAttr();i._setCaption(u);i._initSortable();t.isEmpty(r.content)||i.$container.removeClass("file-input-new")},_getZoomButton:function(n){var t=this,r=t.previewZoomButtonIcons[n],u=t.previewZoomButtonClasses[n],f=' title="'+(t.previewZoomButtonTitles[n]||"")+'" ',i=f+(n==="close"?' data-dismiss="modal" aria-hidden="true"':"");return(n==="fullscreen"||n==="borderless"||n==="toggleheader")&&(i+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+u+" btn-"+n+'"'+i+">"+r+"<\/button>"},_getModalContent:function(){var n=this;return n._getLayoutTemplate("modal").replace(/\{heading}/g,n.msgZoomModalHeading).replace(/\{prev}/g,n._getZoomButton("prev")).replace(/\{next}/g,n._getZoomButton("next")).replace(/\{toggleheader}/g,n._getZoomButton("toggleheader")).replace(/\{fullscreen}/g,n._getZoomButton("fullscreen")).replace(/\{borderless}/g,n._getZoomButton("borderless")).replace(/\{close}/g,n._getZoomButton("close"))},_listenModalEvent:function(n){var r=this,i=r.$modal,u=function(n){return{sourceEvent:n,previewId:i.data("previewId"),modal:i}};i.on(n+".bs.modal",function(f){var e=i.find(".btn-fullscreen"),o=i.find(".btn-borderless");r._raise("filezoom"+n,u(f));n==="shown"&&(o.removeClass("active").attr("aria-pressed","false"),e.removeClass("active").attr("aria-pressed","false"),i.hasClass("file-zoom-fullscreen")&&(r._maximizeZoomDialog(),t.checkFullScreen()?e.addClass("active").attr("aria-pressed","true"):o.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var i=this,r,u=i._getLayoutTemplate("modalMain"),f="#"+t.MODAL_ID;i.$modal=n(f);i.$modal&&i.$modal.length||(r=n(document.createElement("div")).html(u).insertAfter(i.$container),i.$modal=n("#"+t.MODAL_ID).insertBefore(r),r.remove());i.$modal.html(i._getModalContent());i._listenModalEvent("show");i._listenModalEvent("shown");i._listenModalEvent("hide");i._listenModalEvent("hidden");i._listenModalEvent("loaded")},_initZoomButtons:function(){var i=this,s=i.$modal.data("previewId")||"",e,o,c=i.$preview,r=c.find(t.FRAMES).toArray(),h=r.length,u=i.$modal.find(".btn-prev"),f=i.$modal.find(".btn-next");if(r.length<2){u.hide();f.hide();return}(u.show(),f.show(),h)&&(e=n(r[0]),o=n(r[h-1]),u.removeAttr("disabled"),f.removeAttr("disabled"),e.length&&e.attr("id")===s&&u.attr("disabled",!0),o.length&&o.attr("id")===s&&f.attr("disabled",!0))},_maximizeZoomDialog:function(){var o=this,t=o.$modal,u=t.find(".modal-header:visible"),f=t.find(".modal-footer:visible"),i=t.find(".modal-body"),r=n(window).height(),e=0;t.addClass("file-zoom-fullscreen");u&&u.length&&(r-=u.outerHeight(!0));f&&f.length&&(r-=f.outerHeight(!0));i&&i.length&&(e=i.outerHeight(!0)-i.height(),r-=e);t.find(".kv-zoom-body").height(r)},_resizeZoomDialog:function(n){var r=this,i=r.$modal,u=i.find(".btn-fullscreen"),f=i.find(".btn-borderless");if(i.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),n?u.hasClass("active")||(i.removeClass("file-zoom-fullscreen"),r._resizeZoomDialog(!0),f.hasClass("active")&&f.removeClass("active").attr("aria-pressed","false")):u.hasClass("active")?u.removeClass("active").attr("aria-pressed","false"):(i.removeClass("file-zoom-fullscreen"),r.$modal.find(".kv-zoom-body").css("height",r.zoomModalHeight));else{if(!n){r._maximizeZoomDialog();return}t.toggleFullScreen(!0)}i.focus()},_setZoomContent:function(i,r){var f=this,h,v,c,y,e,o,l,s=i.attr("id"),u=f.$modal,p=u.find(".btn-prev"),w=u.find(".btn-next"),a,g=u.find(".btn-fullscreen"),nt=u.find(".btn-borderless"),b,k,tt=u.find(".btn-toggleheader"),d=f.$preview.find("#zoom-"+s);v=d.attr("data-template")||"generic";h=d.find(".kv-file-content");c=h.length?h.html():"";b=i.data("caption")||"";k=i.data("size")||"";y=b+" "+k;u.find(".kv-zoom-title").html(y);e=u.find(".kv-zoom-body");u.removeClass("kv-single-content");r?(a=e.clone().insertAfter(e),e.html(c).hide(),a.fadeOut("fast",function(){e.fadeIn("fast");a.remove()})):e.html(c);l=f.previewZoomSettings[v];l&&(o=e.find(".kv-preview-data"),t.addCss(o,"file-zoom-detail"),n.each(l,function(n,t){o.css(n,t);(o.attr("width")&&n==="width"||o.attr("height")&&n==="height")&&o.removeAttr(n)}));u.data("previewId",s);t.handler(p,"click",function(){f._zoomSlideShow("prev",s)});t.handler(w,"click",function(){f._zoomSlideShow("next",s)});t.handler(g,"click",function(){f._resizeZoomDialog(!0)});t.handler(nt,"click",function(){f._resizeZoomDialog(!1)});t.handler(tt,"click",function(){var n=u.find(".modal-header"),t=u.find(".modal-body .floating-buttons"),i,r=n.find(".kv-zoom-actions"),e=function(t){var r=f.$modal.find(".kv-zoom-body"),i=f.zoomModalHeight;u.hasClass("file-zoom-fullscreen")&&(i=r.outerHeight(!0),t||(i=i-n.outerHeight(!0)));r.css("height",t?i+t:i)};n.is(":visible")?(i=n.outerHeight(!0),n.slideUp("slow",function(){r.find(".btn").appendTo(t);e(i)})):(t.find(".btn").appendTo(r),n.slideDown("slow",function(){e()}));u.focus()});t.handler(u,"keydown",function(n){var t=n.which||n.keyCode;t!==37||p.attr("disabled")||f._zoomSlideShow("prev",s);t!==39||w.attr("disabled")||f._zoomSlideShow("next",s)})},_zoomPreview:function(i){var r=this,f,e=n("body"),u=r.$modal;if(!i.length)throw"Cannot zoom to detailed preview!";e.length&&u.appendTo(e);u.html(r._getModalContent());f=i.closest(t.FRAMES);r._setZoomContent(f);u.modal("show");r._initZoomButtons()},_zoomSlideShow:function(i,r){var u=this,c=u.$modal.find(".kv-zoom-actions .btn-"+i),s,f,o=u.$preview.find(t.FRAMES).toArray(),h=o.length,e;if(!c.attr("disabled")){for(f=0;f<h;f++)if(n(o[f]).attr("id")===r){e=i==="prev"?f-1:f+1;break}e<0||e>=h||!o[e]||(s=n(o[e]),s.length&&u._setZoomContent(s,!0),u._initZoomButtons(),u._raise("filezoom"+i,{previewId:r,modal:u.$modal}))}},_initZoomButton:function(){var i=this;i.$preview.find(".kv-file-zoom").each(function(){var r=n(this);t.handler(r,"click",function(){i._zoomPreview(r)})})},_initPreviewActions:function(){var i=this,r=i.$preview,e=i.deleteExtraData||{},f=t.FRAMES+" .kv-file-remove",u=function(){var n=i.isUploadable?i.previewCache.count():i.$element.get(0).files.length;r.find(f).length!==0||n||(i.reset(),i.initialCaption="")};i._initZoomButton();r.find(f).each(function(){var s=n(this),y=s.data("url")||i.deleteUrl,l=s.data("key");if(!t.isEmpty(y)&&l!==undefined){var f=s.closest(t.FRAMES),v=i.previewCache.data,p,h,c=f.data("fileindex"),a,o;c=parseInt(c.replace("init_",""));a=t.isEmpty(v.config)&&t.isEmpty(v.config[c])?null:v.config[c];o=t.isEmpty(a)||t.isEmpty(a.extra)?e:a.extra;typeof o=="function"&&(o=o());h={id:s.attr("id"),key:l,extra:o};p=n.extend(!0,{},{url:y,type:"POST",dataType:"json",data:n.extend(!0,{},{key:l},o),beforeSend:function(n){i.ajaxAborted=!1;i._raise("filepredelete",[l,n,o]);i.ajaxAborted?n.abort():(t.addCss(f,"file-uploading"),t.addCss(s,"disabled"))},success:function(n,e,a){var v,y;if(t.isEmpty(n)||t.isEmpty(n.error))i.previewCache.init(),c=parseInt(f.data("fileindex").replace("init_","")),i.previewCache.unset(c),v=i.previewCache.count(),y=v>0?i._getMsgSelected(v):"",i._raise("filedeleted",[l,a,o]),i._setCaption(y);else{h.jqXHR=a;h.response=n;i._showError(n.error,h,"filedeleteerror");f.removeClass("file-uploading");s.removeClass("disabled");u();return}f.removeClass("file-uploading").addClass("file-deleted");f.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+f.attr("id")));i._clearObjects(f);f.remove();u();v||i.getFileStack().length!==0||(i._setCaption(""),i.reset())})},error:function(n,t,r){var e=i.ajaxOperations.deleteThumb,o=i._parseError(e,n,r);h.jqXHR=n;h.response={};i._showError(o,h,"filedeleteerror");f.removeClass("file-uploading");u()}},i.ajaxDeleteSettings);t.handler(s,"click",function(){if(!i._validateMinCount())return!1;n.ajax(p)})}})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause();n(this).remove()});t.find("img object div").each(function(){n(this).remove()})},_clearFileInput:function(){var u=this,i=u.$element,e,r,f;(u.fileInputCleared=!0,t.isEmpty(i.val()))||(u.isIE9||u.isIE10?(e=i.closest("form"),r=n(document.createElement("form")),f=n(document.createElement("div")),i.before(f),e.length?e.after(r):f.after(r),r.append(i).trigger("reset"),f.before(i).remove(),r.remove()):i.val(""))},_resetUpload:function(){var n=this;n.uploadCache={content:[],config:[],tags:[],append:!0};n.uploadCount=0;n.uploadStatus={};n.uploadLog=[];n.uploadAsyncCount=0;n.loadedImages=[];n.totalImagesCount=0;n.$btnUpload.removeAttr("disabled");n._setProgress(0);t.addCss(n.$progress,"hide");n._resetErrors(!1);n.ajaxAborted=!1;n.ajaxRequests=[];n._resetCanvas();n.cacheInitialPreview={}},_resetCanvas:function(){var n=this;n.canvas&&n.imageCanvasContext&&n.imageCanvasContext.clearRect(0,0,n.canvas.width,n.canvas.height)},_hasInitialPreview:function(){var n=this;return!n.overwriteInitial&&n.previewCache.count()},_resetPreview:function(){var n=this,t,i;n.previewCache.count()?(t=n.previewCache.out(),n.$preview.html(t.content),n._setInitThumbAttr(),i=n.initialCaption?n.initialCaption:t.caption,n._setCaption(i)):(n._clearPreview(),n._initCaption());n.showPreview&&(n._initZoom(),n._initSortable())},_clearDefaultPreview:function(){var n=this;n.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var n=this;n.showPreview&&!t.isEmpty(n.defaultPreviewContent)&&(n.$preview.html('<div class="file-default-preview">'+n.defaultPreviewContent+"<\/div>"),n.$container.removeClass("file-input-new"),n._initClickable())},_resetPreviewThumbs:function(n){var t=this,i;if(n){t._clearPreview();t.clearStack();return}t._hasInitialPreview()?(i=t.previewCache.out(),t.$preview.html(i.content),t._setInitThumbAttr(),t._setCaption(i.caption),t._initPreviewActions()):t._clearPreview()},_getLayoutTemplate:function(n){var i=this,r=i.layoutTemplates[n];return t.isEmpty(i.customLayoutTags)?r:t.replaceTags(r,i.customLayoutTags)},_getPreviewTemplate:function(n){var i=this,r=i.previewTemplates[n];return t.isEmpty(i.customPreviewTags)?r:t.replaceTags(r,i.customPreviewTags)},_getOutData:function(n,t,i){var r=this;return n=n||{},t=t||{},i=i||r.filestack.slice(0)||{},{form:r.formdata,files:i,filenames:r.filenames,filescount:r.getFilesCount(),extra:r._getExtraData(),response:t,reader:r.reader,jqXHR:n}},_getMsgSelected:function(n){var t=this,i=n===1?t.fileSingle:t.filePlural;return n>0?t.msgSelected.replace("{n}",n).replace("{files}",i):t.msgNoFilesSelected},_getThumbs:function(n){return n=n||"",this.$preview.find(t.FRAMES+":not(.file-preview-initial)"+n)},_getExtraData:function(n,t){var i=this,r=i.uploadExtraData;return typeof i.uploadExtraData=="function"&&(r=i.uploadExtraData(n,t)),r},_initXhr:function(n,t,i){var r=this;return n.upload&&n.upload.addEventListener("progress",function(n){var u=0,f=n.total,e=n.loaded||n.position;n.lengthComputable&&(u=Math.floor(e/f*100));t?r._setAsyncUploadStatus(t,u,i):r._setProgress(u)},!1),n},_ajaxSubmit:function(t,i,r,u,f,e){var o=this,s;o._raise("filepreajax",[f,e]);o._uploadExtra(f,e);s=n.extend(!0,{},{xhr:function(){var t=n.ajaxSettings.xhr();return o._initXhr(t,f,o.getFileStack().length)},url:o.uploadUrl,type:"POST",dataType:"json",data:o.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:t,success:i,complete:r,error:u},o.ajaxSettings);o.ajaxRequests.push(n.ajax(s))},_initUploadSuccess:function(i,r,u){var f=this,h,y,p,c,l,e,o,s,a,v=function(n,t){f[n]instanceof Array||(f[n]=[]);t&&t.length&&(f[n]=f[n].concat(t))};f.showPreview&&typeof i=="object"&&!n.isEmptyObject(i)&&i.initialPreview!==undefined&&i.initialPreview.length>0&&(f.hasInitData=!0,e=i.initialPreview||[],o=i.initialPreviewConfig||[],s=i.initialPreviewThumbTags||[],h=i.append===undefined||i.append?!0:!1,e.length>0&&!t.isArray(e)&&(e=e.split(f.initialPreviewDelimiter)),f.overwriteInitial=!1,v("initialPreview",e),v("initialPreviewConfig",o),v("initialPreviewThumbTags",s),r!==undefined?u?(a=r.attr("data-fileindex"),f.uploadCache.content[a]=e[0],f.uploadCache.config[a]=o[0]||[],f.uploadCache.tags[a]=s[0]||[],f.uploadCache.append=h):(p=f.previewCache.add(e,o[0],s[0],h),y=f.previewCache.get(p,!1),c=n(document.createElement("div")).html(y).hide().insertAfter(r),l=c.find(".kv-zoom-cache"),l&&l.length&&l.insertAfter(r),r.fadeOut("slow",function(){var n=c.find(".file-preview-frame");n&&n.length&&n.insertBefore(r).fadeIn("slow").css("display:inline-block");f._initPreviewActions();f._clearFileInput();t.cleanZoomCache(f.$preview.find("#zoom-"+r.attr("id")));r.remove();c.remove();f._initSortable()})):(f.previewCache.set(e,o,s,h),f._initPreview(),f._initPreviewActions()))},_initSuccessThumbs:function(){var i=this;i.showPreview&&i._getThumbs(t.FRAMES+" .file-preview-success").each(function(){var r=n(this),u=i.$preview,f=r.find(".kv-file-remove");f.removeAttr("disabled");t.handler(f,"click",function(){var n=r.attr("id"),f=i._raise("filesuccessremove",[n,r.data("fileindex")]);(t.cleanMemory(r),f!==!1)&&r.fadeOut("slow",function(){t.cleanZoomCache(u.find("#zoom-"+n));r.remove();u.find(t.FRAMES).length||i.reset()})})})},_checkAsyncComplete:function(){for(var t=this,r,i=0;i<t.filestack.length;i++)if(t.filestack[i]&&(r=t.previewInitId+"-"+i,n.inArray(r,t.uploadLog)===-1))return!1;return t.uploadAsyncCount===t.uploadLog.length},_uploadExtra:function(t,i){var r=this,u=r._getExtraData(t,i);u.length!==0&&n.each(u,function(n,t){r.formdata.append(n,t)})},_uploadSingle:function(i,r,u){var f=this,g=f.getFileStack().length,a=new FormData,h,o=f.previewInitId+"-"+i,e,p,c,v,nt=f.filestack.length>0||!n.isEmptyObject(f.uploadExtraData),y=n("#"+o).find(".file-thumb-progress"),w,b,k,d,l,s={id:o,index:i};(f.formdata=a,f.showPreview&&(e=n("#"+o+":not(.file-preview-initial)"),c=e.find(".kv-file-upload"),v=e.find(".kv-file-remove"),y.removeClass("hide")),g===0||!nt||c&&c.hasClass("disabled")||f._abort(s))||(l=function(n,t){f.updateStack(n,undefined);f.uploadLog.push(t);f._checkAsyncComplete()&&(f.fileBatchCompleted=!0)},p=function(){var n=f.uploadCache,e,r,u,o,i=f.cacheInitialPreview;f.fileBatchCompleted&&setTimeout(function(){if(f.showPreview){if(f.previewCache.set(n.content,n.config,n.tags,n.append),o=i&&i.content?i.content.length:0,o){for(r=0;r<n.content.length;r++)u=r+o,i.content[u]=n.content[r],i.config.length&&(i.config[u]=n.config[r]),i.tags.length&&(i.tags[u]=n.tags[r]);f.initialPreview=i.content;f.initialPreviewConfig=i.config;f.initialPreviewThumbTags=i.tags}else f.initialPreview=n.content,f.initialPreviewConfig=n.config,f.initialPreviewThumbTags=n.tags;f.cacheInitialPreview={};f.hasInitData&&(f._initPreview(),f._initPreviewActions())}f.unlock();f._clearFileInput();e=f.$preview.find(".file-preview-initial");f.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),f._initSortable());f._raise("filebatchuploadcomplete",[f.filestack,f._getExtraData()]);f.uploadCount=0;f.uploadStatus={};f.uploadLog=[];f._setProgress(101)},100)},w=function(r){h=f._getOutData(r);f.fileBatchCompleted=!1;f.showPreview&&(e.hasClass("file-preview-success")||(f._setThumbStatus(e,"Loading"),t.addCss(e,"file-uploading")),c.attr("disabled",!0),v.attr("disabled",!0));u||f.lock();f._raise("filepreupload",[h,o,i]);n.extend(!0,s,h);f._abort(s)&&(r.abort(),f._setProgressCancelled())},b=function(r,a,v){var p=f.showPreview&&e.attr("id")?e.attr("id"):o;h=f._getOutData(v,r);n.extend(!0,s,h);setTimeout(function(){t.isEmpty(r)||t.isEmpty(r.error)?(f.showPreview&&(f._setThumbStatus(e,"Success"),c.hide(),f._initUploadSuccess(r,e,u),f._setProgress(101,y)),f._raise("fileuploaded",[h,p,i]),u?l(i,p):f.updateStack(i,undefined)):(f._showUploadError(r.error,s),f._setPreviewError(e,i),u&&l(i,p))},100)},k=function(){setTimeout(function(){f.showPreview&&(c.removeAttr("disabled"),v.removeAttr("disabled"),e.removeClass("file-uploading"));u?p():(f.unlock(!1),f._clearFileInput());f._initSuccessThumbs()},100)},d=function(t,h,c){var a=f.ajaxOperations.uploadThumb,v=f._parseError(a,t,c,u?r[i].name:null);setTimeout(function(){u&&l(i,o);f.uploadStatus[o]=100;f._setPreviewError(e,i);n.extend(!0,s,f._getOutData(t));f._setProgress(101,y,f.msgAjaxProgressError.replace("{operation}",a));f._showUploadError(v,s)},100)},a.append(f.uploadFileAttr,r[i],f.filenames[i]),a.append("file_id",i),f._ajaxSubmit(w,b,k,d,o,i))},_uploadBatch:function(){var i=this,r=i.filestack,u=r.length,f,e,o,s,c=i.filestack.length>0||!n.isEmptyObject(i.uploadExtraData),h;(i.formdata=new FormData,u!==0&&c&&!i._abort({}))&&(h=function(){n.each(r,function(n){i.updateStack(n,undefined)});i._clearFileInput()},f=function(r){i.lock();var u=i._getOutData(r);i.showPreview&&i._getThumbs().each(function(){var r=n(this),u=r.find(".kv-file-upload"),f=r.find(".kv-file-remove");r.hasClass("file-preview-success")||(i._setThumbStatus(r,"Loading"),t.addCss(r,"file-uploading"));u.attr("disabled",!0);f.attr("disabled",!0)});i._raise("filebatchpreupload",[u]);i._abort(u)&&(r.abort(),i._setProgressCancelled())},e=function(r,u,f){var o=i._getOutData(f,r),s=i._getThumbs(":not(.file-preview-error)"),e=0,c=t.isEmpty(r)||t.isEmpty(r.errorkeys)?[]:r.errorkeys;t.isEmpty(r)||t.isEmpty(r.error)?(i._raise("filebatchuploadsuccess",[o]),h(),i.showPreview?(s.each(function(){var t=n(this),r=t.find(".kv-file-upload");t.find(".kv-file-upload").hide();i._setThumbStatus(t,"Success");t.removeClass("file-uploading");r.removeAttr("disabled")}),i._initUploadSuccess(r)):i.reset(),i._setProgress(101)):(i.showPreview&&(s.each(function(){var t=n(this),r=t.find(".kv-file-remove"),u=t.find(".kv-file-upload");if(t.removeClass("file-uploading"),u.removeAttr("disabled"),r.removeAttr("disabled"),c.length===0){i._setPreviewError(t);return}n.inArray(e,c)!==-1?i._setPreviewError(t):(t.find(".kv-file-upload").hide(),i._setThumbStatus(t,"Success"),i.updateStack(e,undefined));e++}),i._initUploadSuccess(r)),i._showUploadError(r.error,o,"filebatchuploaderror"))},s=function(){i.unlock();i._initSuccessThumbs();i._clearFileInput();i._raise("filebatchuploadcomplete",[i.filestack,i._getExtraData()])},o=function(t,r,f){var o=i._getOutData(t),e=i.ajaxOperations.uploadBatch,s=i._parseError(e,t,f);(i._showUploadError(s,o,"filebatchuploaderror"),i.uploadFileCount=u-1,i.showPreview)&&(i._getThumbs().each(function(){var t=n(this),r=t.attr("data-fileindex");t.removeClass("file-uploading");i.filestack[r]!==undefined&&i._setPreviewError(t)}),i._getThumbs().removeClass("file-uploading"),i._getThumbs(" .kv-file-upload").removeAttr("disabled"),i._getThumbs(" .kv-file-delete").removeAttr("disabled"),i._setProgress(101,i.$progress,i.msgAjaxProgressError.replace("{operation}",e)))},n.each(r,function(n,u){t.isEmpty(r[n])||i.formdata.append(i.uploadFileAttr,u,i.filenames[n])}),i._ajaxSubmit(f,e,s,o))},_uploadExtraOnly:function(){var n=this,i={},r,u,f,e;(n.formdata=new FormData,n._abort(i))||(r=function(t){n.lock();var r=n._getOutData(t);n._raise("filebatchpreupload",[r]);n._setProgress(50);i.data=r;i.xhr=t;n._abort(i)&&(t.abort(),n._setProgressCancelled())},u=function(i,r,u){var f=n._getOutData(u,i);t.isEmpty(i)||t.isEmpty(i.error)?(n._raise("filebatchuploadsuccess",[f]),n._clearFileInput(),n._initUploadSuccess(i),n._setProgress(101)):n._showUploadError(i.error,f,"filebatchuploaderror")},f=function(){n.unlock();n._clearFileInput();n._raise("filebatchuploadcomplete",[n.filestack,n._getExtraData()])},e=function(t,r,u){var f=n._getOutData(t),e=n.ajaxOperations.uploadExtra,o=n._parseError(e,t,u);i.data=f;n._showUploadError(o,f,"filebatchuploaderror");n._setProgress(101,n.$progress,n.msgAjaxProgressError.replace("{operation}",e))},n._ajaxSubmit(r,u,f,e))},_initFileActions:function(){var i=this,r=i.$preview;i.showPreview&&(i._initZoomButton(),r.find(t.FRAMES+" .kv-file-remove").each(function(){var s=n(this),u=s.closest(t.FRAMES),h,f=u.attr("id"),e=u.attr("data-fileindex"),o,c,l;t.handler(s,"click",function(){if(l=i._raise("filepreremove",[f,e]),l===!1||!i._validateMinCount())return!1;h=u.hasClass("file-preview-error");t.cleanMemory(u);u.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+f));i.updateStack(e,undefined);i._clearObjects(u);u.remove();f&&h&&i.$errorContainer.find('li[data-file-id="'+f+'"]').fadeOut("fast",function(){n(this).remove();i._errorsExist()||i._resetErrors()});i._clearFileInput();var s=i.getFileStack(!0),l=i.previewCache.count(),a=s.length,v=i.showPreview&&r.find(t.FRAMES).length;a!==0||l!==0||v?(o=l+a,c=o>1?i._getMsgSelected(o):s[0]?i._getFileNames()[0]:"",i._setCaption(c)):i.reset();i._raise("fileremoved",[f,e])})})}),i.$preview.find(t.FRAMES+" .kv-file-upload").each(function(){var r=n(this);t.handler(r,"click",function(){var n=r.closest(t.FRAMES),u=n.attr("data-fileindex");n.hasClass("file-preview-error")||i._uploadSingle(u,i.filestack,!1)})}))},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(t){var f=this,i=parseFloat(t),r,e=f.fileSizeGetter,o,u;return!n.isNumeric(t)||!n.isNumeric(i)?"":(typeof e=="function"?u=e(i):(r=Math.floor(Math.log(i)/Math.log(1024)),o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],u=(i/Math.pow(1024,r)).toFixed(2)*1+" "+o[r]),f._getLayoutTemplate("size").replace("{sizeText}",u))},_generatePreviewTemplate:function(n,i,r,u,f,e,o,s,h,c,l){var a=this,p=a.slug(r),w,y="",v=a.previewSettings[n],d=v&&v.width?v.width:"",g=v&&v.height?v.height:"",nt=h||a._renderFileFooter(p,o,v.width,e),b=a._getPreviewIcon(r),tt=b&&a.preferIconicPreview,it=b&&a.preferIconicZoomPreview,k=function(i,e,o,h){var w=o?"zoom-"+f:f,y=a._getPreviewTemplate(i),v=(s||"")+" "+h;return a.frameClass&&(v=a.frameClass+" "+v),o&&(v=v.replace(" "+t.SORT_CSS,"")),y=a._parseFilePreviewIcon(y,r),i==="text"&&(e=t.htmlEncode(e)),y.replace(/\{previewId}/g,w).replace(/\{caption}/g,p).replace(/\{frameClass}/g,v).replace(/\{type}/g,u).replace(/\{fileindex}/g,c).replace(/\{width}/g,d).replace(/\{height}/g,g).replace(/\{footer}/g,nt).replace(/\{data}/g,e).replace(/\{template}/g,l||n)};return c=c||f.slice(f.lastIndexOf("-")+1),a.fileActionSettings.showZoom&&(y=k(it?"other":n,i,!0,"kv-zoom-thumb")),y="\n"+a._getLayoutTemplate("zoomCache").replace("{zoomContent}",y),w=k(tt?"other":n,i,!1,"kv-preview-thumb"),w+y},_previewDefault:function(i,r,u){var f=this,h=f.$preview;if(f.showPreview){var e=i?i.name:"",c=i?i.type:"",o,s=i.size,l=f.slug(e),a=u===!0&&!f.isUploadable,v=t.objUrl.createObjectURL(i);f._clearDefaultPreview();o=f._generatePreviewTemplate("other",v,e,c,r,a,s);h.append("\n"+o);f._setThumbAttr(r,l,s);u===!0&&f.isUploadable&&f._setThumbStatus(n("#"+r),"Error")}},_previewFile:function(n,t,i,r,u){if(this.showPreview){var f=this,e=f._parseFileType(t),s=t?t.name:"",h=f.slug(s),c=f.allowedPreviewTypes,l=f.allowedPreviewMimeTypes,y=f.$preview,p=c&&c.indexOf(e)>=0,a=t.size,o=e==="text"||e==="html"||e==="image"?i.target.result:u,v,w=l&&l.indexOf(t.type)!==-1;e==="html"&&f.purifyHtml&&window.DOMPurify&&(o=window.DOMPurify.sanitize(o));p||w?(v=f._generatePreviewTemplate(e,o,s,t.type,r,!1,a),f._clearDefaultPreview(),y.append("\n"+v),f._validateImage(r,h,t.type)):f._previewDefault(t,r);f._setThumbAttr(r,h,a);f._initSortable()}},_setThumbAttr:function(t,i,r){var f=this,u=n("#"+t);u.length&&(r=r&&r>0?f._getSize(r):"",u.data({caption:i,size:r}))},_setInitThumbAttr:function(){var i=this,s=i.previewCache.data,u=i.previewCache.count(!0),r,f,e,o,n;if(u!==0)for(n=0;n<u;n++)r=s.config[n],o=i.previewInitId+"-init_"+n,f=t.ifSet("caption",r,t.ifSet("filename",r)),e=t.ifSet("size",r),i._setThumbAttr(o,f,e)},_slugDefault:function(n){return t.isEmpty(n)?"":String(n).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(i){this.reader=new FileReader;var r=this,b=r.$element,y=r.$preview,u=r.reader,l=r.$previewContainer,c=r.$previewStatus,k=r.msgLoading,p=r.msgProgress,d=r.previewInitId,f=i.length,a=r.fileTypeSettings,g=r.filestack.length,e,o=r.allowedFileTypes,w=o?o.length:0,s=r.allowedFileExtensions,nt=t.isEmpty(s)?"":s.join(", "),v=r.maxFilePreviewSize&&parseFloat(r.maxFilePreviewSize),tt=y.length&&(!v||isNaN(v)),h=function(t,u,f,o){var s=n.extend(!0,{},r._getOutData({},{},i),{id:f,index:o}),h={id:f,index:o,file:u,files:i};return r._previewDefault(u,f,!0),r.isUploadable&&(r.addToStack(undefined),setTimeout(function(){e(o+1)},100)),r._initFileActions(),r.removeFromPreviewOnError&&n("#"+f).remove(),r.isUploadable?r._showUploadError(t,s):r._showError(t,h)};r.loadedImages=[];r.totalImagesCount=0;n.each(i,function(n,t){var i=r.fileTypeSettings.image;i&&i(t.type)&&r.totalImagesCount++});e=function(n){if(t.isEmpty(b.attr("multiple"))&&(f=1),n>=f){r.isUploadable&&r.filestack.length>0?r._raise("filebatchselected",[r.getFileStack()]):r._raise("filebatchselected",[i]);l.removeClass("file-thumb-loading");c.html("");return}var kt=g+n,ft=d+"-"+kt,yt,pt,it=i[n],ht,ut=it.name?r.slug(it.name):"",st=(it.size||0)/1e3,et,rt,ct="",dt=t.objUrl.createObjectURL(it),wt,lt,at,vt,ot=0,bt="";if(w>0)for(et=0;et<w;et++)at=o[et],vt=r.msgFileTypes[at]||at,bt+=et===0?vt:", "+vt;if(ut===!1){e(n+1);return}if(ut.length===0){rt=r.msgInvalidFileName.replace("{name}",t.htmlEncode(it.name));r.isError=h(rt,it,ft,n);return}if(t.isEmpty(s)||(ct=new RegExp("\\.("+s.join("|")+")$","i")),ht=st.toFixed(2),r.maxFileSize>0&&st>r.maxFileSize){rt=r.msgSizeTooLarge.replace("{name}",ut).replace("{size}",ht).replace("{maxSize}",r.maxFileSize);r.isError=h(rt,it,ft,n);return}if(r.minFileSize!==null&&st<=t.getNum(r.minFileSize)){rt=r.msgSizeTooSmall.replace("{name}",ut).replace("{size}",ht).replace("{minSize}",r.minFileSize);r.isError=h(rt,it,ft,n);return}if(!t.isEmpty(o)&&t.isArray(o)){for(et=0;et<o.length;et+=1)wt=o[et],ot+=a[wt]?1:0;if(ot===0){rt=r.msgInvalidFileType.replace("{name}",ut).replace("{types}",bt);r.isError=h(rt,it,ft,n);return}}if(ot===0&&!t.isEmpty(s)&&t.isArray(s)&&!t.isEmpty(ct)&&(lt=t.compare(ut,ct),ot+=t.isEmpty(lt)?0:lt.length,ot===0)){rt=r.msgInvalidFileExtension.replace("{name}",ut).replace("{extensions}",nt);r.isError=h(rt,it,ft,n);return}if(!r.showPreview){r.addToStack(it);setTimeout(function(){e(n+1)},100);r._raise("fileloaded",[it,ft,n,u]);return}if(!tt&&st>v){r.addToStack(it);l.addClass("file-thumb-loading");r._previewDefault(it,ft);r._initFileActions();r._updateFileDetails(f);e(n+1);return}y.length&&FileReader!==undefined?(c.html(k.replace("{index}",n+1).replace("{files}",f)),l.addClass("file-thumb-loading"),u.onerror=function(n){r._errorHandler(n,ut)},u.onload=function(t){r._previewFile(n,it,t,ft,dt);r._initFileActions()},u.onloadend=function(){rt=p.replace("{index}",n+1).replace("{files}",f).replace("{percent}",50).replace("{name}",ut);setTimeout(function(){c.html(rt);r._updateFileDetails(f);e(n+1)},100);r._raise("fileloaded",[it,ft,n,u])},u.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,r=Math.ceil(i);rt=p.replace("{index}",n+1).replace("{files}",f).replace("{percent}",r).replace("{name}",ut);setTimeout(function(){c.html(rt)},100)}},yt=a.text,pt=a.image,yt(it.type,ut)?u.readAsText(it,r.textEncoding):pt(it.type,ut)?u.readAsDataURL(it):u.readAsArrayBuffer(it)):(r._previewDefault(it,ft),setTimeout(function(){e(n+1);r._updateFileDetails(f)},100),r._raise("fileloaded",[it,ft,n,u]));r.addToStack(it)};e(0);r._updateFileDetails(f,!1)},_updateFileDetails:function(n){var i=this,r=i.$element,u=i.getFileStack(),o=t.isIE(9)&&t.findFileName(r.val())||r[0].files[0]&&r[0].files[0].name||u.length&&u[0].name||"",f=i.slug(o),e=i.isUploadable?u.length:n,s=i.previewCache.count()+e,h=e>1?i._getMsgSelected(s):f;i.isError?(i.$previewContainer.removeClass("file-thumb-loading"),i.$previewStatus.html(""),i.$captionContainer.find(".kv-caption-icon").hide()):i._showFileIcon();i._setCaption(h,i.isError);i.$container.removeClass("file-input-new file-input-ajax-new");arguments.length===1&&i._raise("fileselect",[n,f]);i.previewCache.count()&&i._initPreviewActions()},_setThumbStatus:function(n,t){var r=this;if(r.showPreview){var u="indicator"+t,e=u+"Title",o="file-preview-"+t.toLowerCase(),i=n.find(".file-upload-indicator"),f=r.fileActionSettings;n.removeClass("file-preview-success file-preview-error file-preview-loading");t==="Error"&&n.find(".kv-file-upload").attr("disabled",!0);t==="Success"&&(n.find(".file-drag-handle").remove(),i.css("margin-left",0));i.html(f[u]);i.attr("title",f[e]);n.addClass(o)}},_setProgressCancelled:function(){var n=this;n._setProgress(101,n.$progress,n.msgCancelled)},_setProgress:function(n,i,r){var u=this,e=Math.min(n,100),o=e<100?u.progressTemplate:r?u.progressErrorTemplate:n<=100?u.progressTemplate:u.progressCompleteTemplate,f=u.progressUploadThreshold,s;i=i||u.$progress;t.isEmpty(o)||(f&&e>f&&n<=100?(s=o.replace("{percent}",f).replace("{percent}",f).replace("{percent}%",u.msgUploadThreshold),i.html(s)):i.html(o.replace(/\{percent}/g,e)),r&&i.find('[role="progressbar"]').html(r))},_setFileDropZoneTitle:function(){var n=this,i=n.$container.find(".file-drop-zone"),r=n.dropZoneTitle,u;(n.isClickable&&(u=t.isEmpty(n.$element.attr("multiple"))?n.fileSingle:n.filePlural,r+=n.dropZoneClickTitle.replace("{files}",u)),i.find("."+n.dropZoneTitleClass).remove(),n.isUploadable&&n.showPreview&&i.length!==0&&!(n.getFileStack().length>0)&&n.dropZoneEnabled)&&(i.find(t.FRAMES).length===0&&t.isEmpty(n.defaultPreviewContent)&&i.prepend('<div class="'+n.dropZoneTitleClass+'">'+r+"<\/div>"),n.$container.removeClass("file-input-new"),t.addCss(n.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,i,r){var u=this,f=0;u._setProgress(i,n("#"+t).find(".file-thumb-progress"));u.uploadStatus[t]=i;n.each(u.uploadStatus,function(n,t){f+=t});u._setProgress(Math.floor(f/r))},_validateMinCount:function(){var n=this,t=n.isUploadable?n.getFileStack().length:n.$element.get(0).files.length;return n.validateInitialCount&&n.minFileCount>0&&n._getFileCount(t-1)<n.minFileCount?(n._noFilesError({}),!1):!0},_getFileCount:function(n){var t=this,i=0;return t.validateInitialCount&&!t.overwriteInitial&&(i=t.previewCache.count(),n+=i),n},_getFileName:function(n){return n&&n.name?this.slug(n.name):undefined},_getFileNames:function(n){var t=this;return t.filenames.filter(function(t){return n?t!==undefined:t!==undefined&&t!==null})},_setPreviewError:function(n,t,i){var r=this;t!==undefined&&r.updateStack(t,i);r.removeFromPreviewOnError?n.remove():r._setThumbStatus(n,"Error")},_checkDimensions:function(n,i,r,u,f,e,o){var h=this,a,l,y=i==="Small"?"min":"max",c=h[y+"Image"+e],s,v;!t.isEmpty(c)&&r.length&&((s=r[0],l=e==="Width"?s.naturalWidth||s.width:s.naturalHeight||s.height,v=i==="Small"?l>=c:l<=c,v)||(a=h["msgImage"+e+i].replace("{name}",f).replace("{size}",c),h._showUploadError(a,o),h._setPreviewError(u,n,null)))},_validateImage:function(n,i,r){var u=this,h=u.$preview,s,c,l,f=h.find("#"+n),o=f.attr("data-fileindex"),e=f.find("img");(i=i||"Untitled",e.length)&&t.handler(e,"load",function(){c=f.width();l=h.width();c>l&&(e.css("width","100%"),f.css("width","97%"));s={ind:o,id:n};u._checkDimensions(o,"Small",e,f,i,"Width",s);u._checkDimensions(o,"Small",e,f,i,"Height",s);u.resizeImage||(u._checkDimensions(o,"Large",e,f,i,"Width",s),u._checkDimensions(o,"Large",e,f,i,"Height",s));u._raise("fileimageloaded",[n]);u.loadedImages.push({ind:o,img:e,thumb:f,pid:n,typ:r});u._validateAllImages()})},_validateAllImages:function(){var n=this,t,r={val:0},i=n.loadedImages.length;if(i===n.totalImagesCount&&(n._raise("fileimagesloaded"),n.resizeImage))for(t=0;t<n.loadedImages.length;t++)n._getResizedImage(n.loadedImages[t],r,i)},_getResizedImage:function(n,t,i){var r=this,l=n.img,u=l.naturalWidth,f=l.naturalHeight,a=1,s=r.maxImageWidth||u,h=r.maxImageHeight||f,v=!!(u&&f),y,p,w=r.imageCanvas,g=r.imageCanvasContext,b=n.typ,o=n.pid,e=n.ind,nt=n.thumb,k,c,d;if(k=r.isUploadable?r._showUploadError:r._showError,c=function(n,t,i){k(n,t,i);r._setPreviewError(nt,e)},(!r.filestack[e]||!v||u<=s&&f<=h)&&(v&&r.filestack[e]&&r._raise("fileimageresized",[o,e]),t.val++,t.val===i&&r._raise("fileimagesresized"),!v)){c(r.msgImageResizeError,{id:o,index:e},"fileimageresizeerror");return}b=b||r.resizeDefaultImageType;y=u>s;p=f>h;a=r.resizePreference==="width"?y?s/u:p?h/f:1:p?h/f:y?s/u:1;r._resetCanvas();u*=a;f*=a;w.width=u;w.height=f;try{g.drawImage(l,0,0,u,f);w.toBlob(function(n){r.filestack[e]=n;r._raise("fileimageresized",[o,e]);t.val++;t.val===i&&r._raise("fileimagesresized",[undefined,undefined]);n instanceof Blob||c(r.msgImageResizeError,{id:o,index:e},"fileimageresizeerror")},b,r.resizeQuality)}catch(tt){t.val++;t.val===i&&r._raise("fileimagesresized",[undefined,undefined]);d=r.msgImageResizeException.replace("{errors}",tt.message);c(d,{id:o,index:e},"fileimageresizeexception")}},_initBrowse:function(n){var t=this;t.showBrowse?(t.$btnFile=n.find(".btn-file"),t.$btnFile.append(t.$element)):t.$element.hide()},_initCaption:function(){var n=this,i=n.initialCaption||"";return n.overwriteInitial||t.isEmpty(i)?(n.$caption.html(""),!1):(n._setCaption(i),!0)},_setCaption:function(i,r){var u=this,f,o,e,s,h=u.getFileStack();if(u.$caption.length){if(r)f=n("<div>"+u.msgValidationError+"<\/div>").text(),e=h.length,s=e?e===1&&h[0]?u._getFileNames()[0]:u._getMsgSelected(e):u._getMsgSelected(u.msgNo),o='<span class="'+u.msgValidationErrorClass+'">'+u.msgValidationErrorIcon+(t.isEmpty(i)?s:i)+"<\/span>";else{if(t.isEmpty(i))return;f=n("<div>"+i+"<\/div>").text();o=u._getLayoutTemplate("fileIcon")+f}u.$caption.html(o);u.$caption.attr("title",f);u.$captionContainer.find(".file-caption-ellipsis").attr("title",f)}},_createContainer:function(){var t=this,i=n(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(t._renderMain());return t.$element.before(i),t._initBrowse(i),t.theme&&i.addClass("theme-"+t.theme),i},_refreshContainer:function(){var n=this,t=n.$container;t.before(n.$element);t.html(n._renderMain());n._initBrowse(t)},_renderMain:function(){var n=this,t=n.isUploadable&&n.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=n.showClose?n._getLayoutTemplate("close"):"",r=n.showPreview?n._getLayoutTemplate("preview").replace(/\{class}/g,n.previewClass).replace(/\{dropClass}/g,t):"",u=n.isDisabled?n.captionClass+" file-caption-disabled":n.captionClass,f=n.captionTemplate.replace(/\{class}/g,u+" kv-fileinput-caption");return n.mainTemplate.replace(/\{class}/g,n.mainClass+(!n.showBrowse&&n.showCaption?" no-browse":"")).replace(/\{preview}/g,r).replace(/\{close}/g,i).replace(/\{caption}/g,f).replace(/\{upload}/g,n._renderButton("upload")).replace(/\{remove}/g,n._renderButton("remove")).replace(/\{cancel}/g,n._renderButton("cancel")).replace(/\{browse}/g,n._renderButton("browse"))},_renderButton:function(n){var i=this,u=i._getLayoutTemplate("btnDefault"),f=i[n+"Class"],o=i[n+"Title"],s=i[n+"Icon"],r=i[n+"Label"],h=i.isDisabled?" disabled":"",e="button";switch(n){case"remove":if(!i.showRemove)return"";break;case"cancel":if(!i.showCancel)return"";f+=" hide";break;case"upload":if(!i.showUpload)return"";i.isUploadable&&!i.isDisabled?u=i._getLayoutTemplate("btnLink").replace("{href}",i.uploadUrl):e="submit";break;case"browse":if(!i.showBrowse)return"";u=i._getLayoutTemplate("btnBrowse");break;default:return""}return f+=n==="browse"?" btn-file":" fileinput-"+n+" fileinput-"+n+"-button",t.isEmpty(r)||(r=' <span class="'+i.buttonLabelClass+'">'+r+"<\/span>"),u.replace("{type}",e).replace("{css}",f).replace("{title}",o).replace("{status}",h).replace("{icon}",s).replace("{label}",r)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"<\/div>"},_renderFileFooter:function(n,i,r,u){var f=this,e=f.fileActionSettings,v=e.showRemove,o=e.showDrag,y=e.showUpload,s=e.showZoom,h,c=f._getLayoutTemplate("footer"),l=u?e.indicatorError:e.indicatorNew,a=u?e.indicatorErrorTitle:e.indicatorNewTitle;return i=f._getSize(i),h=f.isUploadable?c.replace(/\{actions}/g,f._renderFileActions(y,v,s,o,!1,!1,!1)).replace(/\{caption}/g,n).replace(/\{size}/g,i).replace(/\{width}/g,r).replace(/\{progress}/g,f._renderThumbProgress()).replace(/\{indicator}/g,l).replace(/\{indicatorTitle}/g,a):c.replace(/\{actions}/g,f._renderFileActions(!1,!1,s,o,!1,!1,!1)).replace(/\{caption}/g,n).replace(/\{size}/g,i).replace(/\{width}/g,r).replace(/\{progress}/g,"").replace(/\{indicator}/g,l).replace(/\{indicatorTitle}/g,a),t.replaceTags(h,f.previewThumbTags)},_renderFileActions:function(n,t,i,r,u,f,e,o){if(!n&&!t&&!i&&!r)return"";var h=this,w=f===!1?"":' data-url="'+f+'"',c=e===!1?"":' data-key="'+e+'"',l="",a="",v="",y="",p,b=h._getLayoutTemplate("actions"),s=h.fileActionSettings,k=h.otherActionButtons.replace(/\{dataKey}/g,c),d=u?s.removeClass+" disabled":s.removeClass;return t&&(l=h._getLayoutTemplate("actionDelete").replace(/\{removeClass}/g,d).replace(/\{removeIcon}/g,s.removeIcon).replace(/\{removeTitle}/g,s.removeTitle).replace(/\{dataUrl}/g,w).replace(/\{dataKey}/g,c)),n&&(a=h._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,s.uploadClass).replace(/\{uploadIcon}/g,s.uploadIcon).replace(/\{uploadTitle}/g,s.uploadTitle)),i&&(v=h._getLayoutTemplate("actionZoom").replace(/\{zoomClass}/g,s.zoomClass).replace(/\{zoomIcon}/g,s.zoomIcon).replace(/\{zoomTitle}/g,s.zoomTitle)),r&&o&&(p="drag-handle-init "+s.dragClass,y=h._getLayoutTemplate("actionDrag").replace(/\{dragClass}/g,p).replace(/\{dragTitle}/g,s.dragTitle).replace(/\{dragIcon}/g,s.dragIcon)),b.replace(/\{delete}/g,l).replace(/\{upload}/g,a).replace(/\{zoom}/g,v).replace(/\{drag}/g,y).replace(/\{other}/g,k)},_browse:function(n){var t=this;(t._raise("filebrowse"),n&&n.isDefaultPrevented())||(t.isError&&!t.isUploadable&&t.clear(),t.$captionContainer.focus())},_change:function(i){var r=this,c=r.$element;if(!r.isUploadable&&t.isEmpty(c.val())&&r.fileInputCleared){r.fileInputCleared=!1;return}r.fileInputCleared=!1;var u,v,e,y=arguments.length>1,o=r.isUploadable,l=0,s,p,f,h=y?i.originalEvent.dataTransfer.files:c.get(0).files,w=r.filestack.length,k=t.isEmpty(c.attr("multiple")),b=k&&w>0,a=0,d=function(t,i,u,f){var e=n.extend(!0,{},r._getOutData({},{},h),{id:u,index:f}),o={id:u,index:f,file:i,files:h};return r.isUploadable?r._showUploadError(t,e):r._showError(t,o)};if(r.reader=null,r._resetUpload(),r._hideFileIcon(),r.isUploadable&&r.$container.find(".file-drop-zone ."+r.dropZoneTitleClass).remove(),y)for(u=[];h[l];)s=h[l],s.type||s.size%4096!=0?u.push(s):a++,l++;else u=i.target.files===undefined?i.target&&i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]:i.target.files;if(t.isEmpty(u)||u.length===0){o||r.clear();r._showFolderError(a);r._raise("fileselectnone");return}if(r._resetErrors(),f=u.length,e=r._getFileCount(r.isUploadable?r.getFileStack().length+f:f),r.maxFileCount>0&&e>r.maxFileCount){if(!r.autoReplace||f>r.maxFileCount){p=r.autoReplace&&f>r.maxFileCount?f:e;v=r.msgFilesTooMany.replace("{m}",r.maxFileCount).replace("{n}",p);r.isError=d(v,null,null,null);r.$captionContainer.find(".kv-caption-icon").hide();r._setCaption("",!0);r.$container.removeClass("file-input-new file-input-ajax-new");return}e>r.maxFileCount&&r._resetPreviewThumbs(o)}else!o||b?(r._resetPreviewThumbs(!1),b&&r.clearStack()):o&&w===0&&(!r.previewCache.count()||r.overwriteInitial)&&r._resetPreviewThumbs(!0);r.isPreviewable?r._readFiles(u):r._updateFileDetails(1);r._showFolderError(a)},_abort:function(t){var i=this,r;return i.ajaxAborted&&typeof i.ajaxAborted=="object"&&i.ajaxAborted.message!==undefined?(r=n.extend(!0,{},i._getOutData(),t),r.abortData=i.ajaxAborted.data||{},r.abortMessage=i.ajaxAborted.message,i.cancel(),i._setProgress(101,i.$progress,i.msgCancelled),i._showUploadError(i.ajaxAborted.message,r,"filecustomerror"),!0):!1},_resetFileStack:function(){var i=this,r=0,u=[],f=[];i._getThumbs().each(function(){var e=n(this),s=e.attr("data-fileindex"),o=i.filestack[s];s!==-1&&(o!==undefined?(u[r]=o,f[r]=i._getFileName(o),e.attr({id:i.previewInitId+"-"+r,"data-fileindex":r}),r++):e.attr({id:"uploaded-"+t.uniqId(),"data-fileindex":"-1"}))});i.filestack=u;i.filenames=f},clearStack:function(){var n=this;return n.filestack=[],n.filenames=[],n.$element},updateStack:function(n,t){var i=this;return i.filestack[n]=t,i.filenames[n]=i._getFileName(t),i.$element},addToStack:function(n){var t=this;return t.filestack.push(n),t.filenames.push(t._getFileName(n)),t.$element},getFileStack:function(n){var t=this;return t.filestack.filter(function(t){return n?t!==undefined:t!==undefined&&t!==null})},getFilesCount:function(){var n=this,t=n.isUploadable?n.getFileStack().length:n.$element.get(0).files.length;return n._getFileCount(t)},lock:function(){var n=this;return n._resetErrors(),n.disable(),n.showRemove&&t.addCss(n.$container.find(".fileinput-remove"),"hide"),n.showCancel&&n.$container.find(".fileinput-cancel").removeClass("hide"),n._raise("filelock",[n.filestack,n._getExtraData()]),n.$element},unlock:function(n){var i=this;return n===undefined&&(n=!0),i.enable(),i.showCancel&&t.addCss(i.$container.find(".fileinput-cancel"),"hide"),i.showRemove&&i.$container.find(".fileinput-remove").removeClass("hide"),n&&i._resetFileStack(),i._raise("fileunlock",[i.filestack,i._getExtraData()]),i.$element},cancel:function(){var t=this,r=t.ajaxRequests,u=r.length,i;if(u>0)for(i=0;i<u;i+=1)t.cancelling=!0,r[i].abort();return t._setProgressCancelled(),t._getThumbs().each(function(){var i=n(this),r=i.attr("data-fileindex");i.removeClass("file-uploading");t.filestack[r]!==undefined&&(i.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),i.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled"));t.unlock()}),t.$element},clear:function(){var i=this,r;return i.$btnUpload.removeAttr("disabled"),i._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(n(this))}),i._resetUpload(),i.clearStack(),i._clearFileInput(),i._resetErrors(!0),i._raise("fileclear"),i._hasInitialPreview()?(i._showFileIcon(),i._resetPreview(),i._initPreviewActions(),i.$container.removeClass("file-input-new")):(i._getThumbs().each(function(){i._clearObjects(n(this))}),i.isUploadable&&(i.previewCache.data={}),i.$preview.html(""),r=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"",i.$caption.html(r),i.$caption.attr("title",""),t.addCss(i.$container,"file-input-new"),i._validateDefaultPreview()),i.$container.find(t.FRAMES).length===0&&(i._initCaption()||i.$captionContainer.find(".kv-caption-icon").hide()),i._hideFileIcon(),i._raise("filecleared"),i.$captionContainer.focus(),i._setFileDropZoneTitle(),i.$element},reset:function(){var n=this;return n._resetPreview(),n.$container.find(".fileinput-filename").text(""),n._raise("filereset"),t.addCss(n.$container,"file-input-new"),(n.$preview.find(t.FRAMES).length||n.isUploadable&&n.dropZoneEnabled)&&n.$container.removeClass("file-input-new"),n._setFileDropZoneTitle(),n.clearStack(),n.formdata={},n.$element},disable:function(){var n=this;return n.isDisabled=!0,n._raise("filedisabled"),n.$element.attr("disabled","disabled"),n.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),n.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),n._initDragDrop(),n.$element},enable:function(){var n=this;return n.isDisabled=!1,n._raise("fileenabled"),n.$element.removeAttr("disabled"),n.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),n.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),n._initDragDrop(),n.$element},upload:function(){var i=this,u=i.getFileStack().length,r,e,f,o=!n.isEmptyObject(i._getExtraData());if(i.isUploadable&&!i.isDisabled){if(i.minFileCount>0&&i._getFileCount(u)<i.minFileCount){i._noFilesError({});return}if(u===0&&!o){i._resetUpload();i._showUploadError(i.msgUploadEmpty);return}if(i._resetUpload(),i.$progress.removeClass("hide"),i.uploadCount=0,i.uploadStatus={},i.uploadLog=[],i.lock(),i._setProgress(2),u===0&&o){i._uploadExtraOnly();return}if(f=i.filestack.length,i.hasInitData=!1,i.uploadAsync){for(e=i._getOutData(),i._raise("filebatchpreupload",[e]),i.fileBatchCompleted=!1,i.uploadCache={content:[],config:[],tags:[],append:!0},i.uploadAsyncCount=i.getFileStack().length,r=0;r<f;r++)i.uploadCache.content[r]=null,i.uploadCache.config[r]=null,i.uploadCache.tags[r]=null;for(i.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),i._initSortable(),i.cacheInitialPreview={content:i.initialPreview,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags},r=0;r<f;r++)i.filestack[r]!==undefined&&i._uploadSingle(r,i.filestack,!0);return}return i._uploadBatch(),i.$element}},destroy:function(){var n=this,i=n.$container;return i.find(".file-drop-zone").off(),n.$element.insertBefore(i).off(t.NAMESPACE).removeData(),i.off().remove(),n.$element},refresh:function(t){var i=this,r=i.$element;return t=t?n.extend(!0,{},i.options,t):i.options,i.destroy(),r.fileinput(t),r.val()&&r.trigger("change.fileinput"),r}};n.fn.fileinput=function(r){if(t.hasFileAPISupport()||t.isIE(9)){var f=Array.apply(null,arguments),u=[];f.shift();this.each(function(){var e=n(this),o=e.data("fileinput"),s=typeof r=="object"&&r,c=s.theme||e.data("theme"),l={},a={},h=s.language||e.data("language")||n.fn.fileinput.defaults.language||"en",v;o||(c&&(a=n.fn.fileinputThemes[c]||{}),h==="en"||t.isEmpty(n.fn.fileinputLocales[h])||(l=n.fn.fileinputLocales[h]||{}),v=n.extend(!0,{},n.fn.fileinput.defaults,a,n.fn.fileinputLocales.en,l,s,e.data()),o=new i(this,v),e.data("fileinput",o));typeof r=="string"&&u.push(o[r].apply(o,f))});switch(u.length){case 0:return this;case 1:return u[0];default:return u}}};n.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"><\/i>',next:'<i class="glyphicon glyphicon-triangle-right"><\/i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"><\/i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"><\/i>',borderless:'<i class="glyphicon glyphicon-resize-full"><\/i>',close:'<i class="glyphicon glyphicon-remove"><\/i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-default btn-header-toggle",fullscreen:"btn btn-default",borderless:"btn btn-default",close:"btn btn-default"},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:undefined,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"><\/i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"><\/i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"><\/i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"><\/i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"><\/i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"><\/i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;<\/span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0};n.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgSizeTooSmall:'File "{name}" (<b>{size} KB<\/b>) is too small and must be larger than <b>{minSize} KB<\/b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB<\/b>) exceeds maximum allowed upload size of <b>{maxSize} KB<\/b>.',msgFilesTooLess:"You must select at least <b>{n}<\/b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})<\/b> exceeds maximum allowed limit of <b>{m}<\/b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadEmpty:"No valid data available for upload.",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}<\/pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"single file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}};n.fn.fileinput.Constructor=i;n(document).ready(function(){var t=n("input.file[type=file]");t.length&&t.fileinput()})});
//# sourceMappingURL=fileinput.min.js.map
